<?php

$file = 'resources/views/role/permission.blade.php';
$content = file_get_contents($file);

// Definir patrones de reemplazo para cada módulo
$replacements = [
  // Expenses
  [
    'old' => "                                        <tr>\n                                            <td>{{ trans('file.Expense') }}</td>\n                                            <td class=\"text-center\">\n                                                <div class=\"icheckbox_square-blue checked\" aria-checked=\"false\"\n                                                    aria-disabled=\"false\">\n                                                    <div class=\"checkbox\">\n                                                        @if (in_array('expenses-index', \$all_permission))\n                                                            <input type=\"checkbox\" value=\"1\" id=\"expenses-index\"\n                                                                name=\"expenses-index\" checked />\n                                                        @else\n                                                            <input type=\"checkbox\" value=\"1\" id=\"expenses-index\"\n                                                                name=\"expenses-index\">\n                                                        @endif\n                                                        <label for=\"expenses-index\"></label>\n                                                    </div>\n                                                </div>\n                                            </td>\n                                            <td class=\"text-center\">\n                                                <div class=\"icheckbox_square-blue checked\" aria-checked=\"false\"\n                                                    aria-disabled=\"false\">\n                                                    <div class=\"checkbox\">\n                                                        @if (in_array('expenses-add', \$all_permission))\n                                                            <input type=\"checkbox\" value=\"1\" id=\"expenses-add\"\n                                                                name=\"expenses-add\" checked />\n                                                        @else\n                                                            <input type=\"checkbox\" value=\"1\" id=\"expenses-add\"\n                                                                name=\"expenses-add\">\n                                                        @endif\n                                                        <label for=\"expenses-add\"></label>\n                                                    </div>\n                                                </div>\n                                            </td>\n                                            <td class=\"text-center\">\n                                                <div class=\"icheckbox_square-blue\" aria-checked=\"false\"\n                                                    aria-disabled=\"false\">\n                                                    <div class=\"checkbox\">\n                                                        @if (in_array('expenses-edit', \$all_permission))\n                                                            <input type=\"checkbox\" value=\"1\" id=\"expenses-edit\"\n                                                                name=\"expenses-edit\" checked>\n                                                        @else\n                                                            <input type=\"checkbox\" value=\"1\" id=\"expenses-edit\"\n                                                                name=\"expenses-edit\">\n                                                        @endif\n                                                        <label for=\"expenses-edit\"></label>\n                                                    </div>\n                                                </div>\n                                            </td>\n                                            <td class=\"text-center\">\n                                                <div class=\"icheckbox_square-blue\" aria-checked=\"false\"\n                                                    aria-disabled=\"false\">\n                                                    <div class=\"checkbox\">\n                                                        @if (in_array('expenses-delete', \$all_permission))\n                                                            <input type=\"checkbox\" value=\"1\" id=\"expenses-delete\"\n                                                                name=\"expenses-delete\" checked>\n                                                        @else\n                                                            <input type=\"checkbox\" value=\"1\" id=\"expenses-delete\"\n                                                                name=\"expenses-delete\">\n                                                        @endif\n                                                        <label for=\"expenses-delete\"></label>\n                                                    </div>\n                                                </div>\n                                            </td>\n                                            <td class=\"text-center\">\n                                                <div class=\"icheckbox_square-blue\" aria-checked=\"false\"\n                                                    aria-disabled=\"false\">\n                                                    <div class=\"checkbox\">\n                                                        @if (in_array('expenses', \$blocked_modules))\n                                                            <input type=\"checkbox\" id=\"expenses-blocked\"\n                                                                name=\"blocked_modules[]\" value=\"expenses\" checked />\n                                                        @else\n                                                            <input type=\"checkbox\" id=\"expenses-blocked\"\n                                                                name=\"blocked_modules[]\" value=\"expenses\" />\n                                                        @endif\n                                                        <label for=\"expenses-blocked\"></label>\n                                                    </div>\n                                                </div>\n                                            </td>\n                                        </tr>",
    'new' => "                                        <tr>\n                                            <td class=\"text-center\">\n                                                <div class=\"icheckbox_square-blue\" aria-checked=\"false\"\n                                                    aria-disabled=\"false\">\n                                                    <div class=\"checkbox\">\n                                                        @if (in_array('expenses', \$blocked_modules))\n                                                            <input type=\"checkbox\" id=\"expenses-blocked\"\n                                                                name=\"blocked_modules[]\" value=\"expenses\" checked />\n                                                        @else\n                                                            <input type=\"checkbox\" id=\"expenses-blocked\"\n                                                                name=\"blocked_modules[]\" value=\"expenses\" />\n                                                        @endif\n                                                        <label for=\"expenses-blocked\"></label>\n                                                    </div>\n                                                </div>\n                                            </td>\n                                            <td>{{ trans('file.Expense') }}</td>\n                                            <td class=\"text-center\">\n                                                <div class=\"icheckbox_square-blue checked\" aria-checked=\"false\"\n                                                    aria-disabled=\"false\">\n                                                    <div class=\"checkbox\">\n                                                        @if (in_array('expenses-index', \$all_permission))\n                                                            <input type=\"checkbox\" value=\"1\" id=\"expenses-index\"\n                                                                name=\"expenses-index\" checked />\n                                                        @else\n                                                            <input type=\"checkbox\" value=\"1\" id=\"expenses-index\"\n                                                                name=\"expenses-index\">\n                                                        @endif\n                                                        <label for=\"expenses-index\"></label>\n                                                    </div>\n                                                </div>\n                                            </td>\n                                            <td class=\"text-center\">\n                                                <div class=\"icheckbox_square-blue checked\" aria-checked=\"false\"\n                                                    aria-disabled=\"false\">\n                                                    <div class=\"checkbox\">\n                                                        @if (in_array('expenses-add', \$all_permission))\n                                                            <input type=\"checkbox\" value=\"1\" id=\"expenses-add\"\n                                                                name=\"expenses-add\" checked />\n                                                        @else\n                                                            <input type=\"checkbox\" value=\"1\" id=\"expenses-add\"\n                                                                name=\"expenses-add\">\n                                                        @endif\n                                                        <label for=\"expenses-add\"></label>\n                                                    </div>\n                                                </div>\n                                            </td>\n                                            <td class=\"text-center\">\n                                                <div class=\"icheckbox_square-blue\" aria-checked=\"false\"\n                                                    aria-disabled=\"false\">\n                                                    <div class=\"checkbox\">\n                                                        @if (in_array('expenses-edit', \$all_permission))\n                                                            <input type=\"checkbox\" value=\"1\" id=\"expenses-edit\"\n                                                                name=\"expenses-edit\" checked>\n                                                        @else\n                                                            <input type=\"checkbox\" value=\"1\" id=\"expenses-edit\"\n                                                                name=\"expenses-edit\">\n                                                        @endif\n                                                        <label for=\"expenses-edit\"></label>\n                                                    </div>\n                                                </div>\n                                            </td>\n                                            <td class=\"text-center\">\n                                                <div class=\"icheckbox_square-blue\" aria-checked=\"false\"\n                                                    aria-disabled=\"false\">\n                                                    <div class=\"checkbox\">\n                                                        @if (in_array('expenses-delete', \$all_permission))\n                                                            <input type=\"checkbox\" value=\"1\" id=\"expenses-delete\"\n                                                                name=\"expenses-delete\" checked>\n                                                        @else\n                                                            <input type=\"checkbox\" value=\"1\" id=\"expenses-delete\"\n                                                                name=\"expenses-delete\">\n                                                        @endif\n                                                        <label for=\"expenses-delete\"></label>\n                                                    </div>\n                                                </div>\n                                            </td>\n                                        </tr>"
  ]
];

foreach ($replacements as $replacement) {
  if (strpos($content, $replacement['old']) !== false) {
    $content = str_replace($replacement['old'], $replacement['new'], $content);
    echo "✓ Reemplazo realizado\n";
  } else {
    echo "✗ No se encontró el texto a reemplazar\n";
  }
}

file_put_contents($file, $content);
echo "\nArchivo actualizado exitosamente!\n";
